---
title: "tips: Visual Studio Codeで'設定の同期`がうまくいかないときの対処法"
emoji: "🔧"
type: "tech"
topics: ["VSCode", "tips", "settings","sync" ]
published: false
---

## tl;dr

"設定の同期"がうまくいかなくなった場合は、次の手順で復旧できます。

1. コマンドラインから`code --sync on'とし、強制的に同期を on  にして起動

2. `GitHub`(または、Micrisoft)からサインアウトして、`VS Code`を修了

3. `Visual Studio Code`を起動して、"設定の同期"をやりなおす

以上です。

## 同期できない理由

`Visual Studio Code`__(以下、`VS Code`)__にサインインするとき、認証情報の取得に失敗すると同期できなくなります。
このとき、サインインに成功したという情報は残るのですが、同期に必要な認証トークンが正しくないので同期できません。

サインインに成功したという情報は、`VS Code`をインストールしなおしても消えないので、同期はできないままです。

また、すでにサインインしたことになっているため、一度サインアウトしてサインインしなおすこともできません。

自分は、これで半日悩みました。

## 対処方法

対処方法は、つぎのとおりです。

### Sync On でV SCodeを起動する

コマンドラインで`code --sync on`として、`VS Code`を起動します。このとき、コマンドラインオプションによって、強制的に"設定の同期"が On となります。

認証トークンが間違っているのでエラーが出ます。とりあえずは、無視します。

### アカウントからサインアウトする

![アカウント](https://i.imgur.com/B6szIK8.png)
`VS Code`の左サイドバーには、上記の画像のようなアカウントアイコンがあるはずです。アイコンがない場合は、サイドバーの設定で表示させてください。__(サイドバー上でマウスを右クリック、アカウントをチェック)__

上記のアカウントアイコンをクリックすると、ポップアップメニューでアカウントが表示されます。
アカウントを選択し、"サインアウト"をクリックするとアカウントからサインアウトします。

### "設定の同期"をやりなおす

アカウントからサインアウトしたら、"設定の同期"をやりなおします。
手順は、以下の通りになります。

1. 左サイドペインの"設定"アイコンを左クリックし、設定のポップアップメニューをひらく

2. "サインインして設定を同期する"を選択する

3. "設定の同期"ダイアログが開くので、アカウントを選択してサインインする

4. ブラウザが開くので、ガイドにしたがってサインインする

5. `VS Code`にもどる。"設定の同期がオン"がチェックされていることを確認する

以上で、"設定の同期"のやり直しは終了です。

## まとめ

今回は、`Visual Studio Codd`で"設定の同期"ができない場合のリカバリー方法を紹介しました。
Web 上にちょうどいい対策が載っていなかったので、メモとして残しておきます。

この記事が、読者の助けになれば幸いです。

それでは、Happy Hacking!
