---
title: "Proxmox VE: インストールメディア作成"
emoji: "🏪"
type: "tech"
topics: [ "自宅サーバ", "仮想化", "Proxmox", "pve" ]
published: false
---

## tl;dr

以下の手順で、`Proxmox VE`のインストールメディアを作成します。

1. 公式 Webサイトから最新の`ISOイメージ`をダウンロードする
2. 2GB 以上の容量の USBメモリを準備する
3. `Rufus`を起動し、ダウンロードした`ISOイメージ`を USBメモリに書き込む

以上の手順で、インストールメディアを作成します。

:::message

- インストールメディアの作成には、**2GB** 以上の容量が必要です。
- USBメモリの代わりに、 **マイクロSDカード**と**カードリーダー**も使用できます。

:::

## はじめに

この記事では、`Proxmox VE`のインストールメディアの作成手順を解説します。
`ISOイメージ`のダウンロードから `Rufus` を使用した作成、インストールメディアの動作確認までを、スクリーンショット付きで説明します。

## 1. インストールメディアの作成

### 1.1 `ISOイメージ`のダウンロード

次の手順で、`ISOイメージ`をダウンロードします:

1. ダウンロードページにアクセス:
   Web ブラウザを開き、`Proxmox` の公式ダウンロードページ <https://www.proxmox.com/en/downloads> にアクセスする。
   ![ダウンロードページ](/images/articles/proxmox-setup/ss-proxmox-download.png)

2. `ISOイメージ`のダウンロード:
   - ダウンロードページの`Proxmox VE`セクションを見つけます
   - `Download`ボタンをクリックし、最新の`ISOイメージ`をダウンロードする。

   **注意**:
   なお、ダウンロードには数分かかります。安定したインターネット接続を確保してください。

以上で、`ISOイメージ`のダウンロードは完了です。
次は、ダウンロードした`ISOイメージ`を使ってインストールメディアを作成します。

### 1.2 `winget`を使用した`Rufus`のインストール

インストールメディアの作成に、`Rufus`を使用します。
`Rufus`は`winget`を使用してインストールします。
(`winget`が利用できない場合は、[手動インストール](#13-rufusの手動インストール)をご覧ください)

**注意**:
`Rufus`のインストールには、管理者権限が必要です。
ユーザーアカウント制御(`UAC`) のプロンプトが表示された場合は、許可を与えてください。

以下に、`Rufus`のインストール方法を説明します:

1. **ターミナル(管理者) の起動**
  [スタート]メニューで右クリックし、`ターミナル (管理者)`を選択します。
   `PowerShell`が管理者モードで起動します。

2. **`winget`の確認**:
   - `Windows 11`では、`winget` (`Windows Package Manager`) が標準で搭載されています。

     ```powershell
     winget --version
     ```

   - バージョン情報が表示されれば、`winget`がインストールされています。

3. **`Rufus`のインストール**:
   - `winget`を使用して`Rufus`をインストールします。以下のコマンドを`PowerShell`で実行してください。

   ```powershell
   winget install Rufus.Rufus --location "C:\app\utils\DiskUtils\rufus"
   ```

   - インストール先のパスを指定することで、コマンドラインから`Rufus`が起動できます。

   インストールに成功すると、次のメッセージが表示されます。

   ```powershell
   インストールが完了しました
   ```

   **エラーが表示された場合**:
   - ネットワーク接続を確認して、再度、コマンドを実行する
   - `Rufus`を公式サイトからダウンロードして、直接インストールする

### 1.3 `Rufus`の手動インストール

`winget`が利用できない場合は、手動で`Rufus`をインストールします。

1. [`Rufus`公式サイト](https://rufus.ie/)にアクセス。

2. `Rufus`の最新バージョンをダウンロード。
   ![ダウンロード](/images/articles/pve-installmedia/ss-rufus-download.jpg)

3. `Rufus`のインストール。
   ダウンロードしたインストーラーを実行し、画面の指示にしたがってインストールを完了します。

### 1.4 `Rufus`を使ったインストールメディアの作成

`Rufus`を使用して、ダウンロードした`ISOイメージ`からインストールメディアを作成します。
以下の手順で、インストールメディアを作成します:

**注意**:
USBメモリのデータがすべて消去されます。必要に応じてバックアップを取っておいてください。

1. **`Rufus`の起動**:
   `Rufus`を起動します、以下のように起動画面が表示されます。
   ![`Rufus`起動画面](/images/articles/proxmox-setup/ss-rufus-start.png)

2. **`ISOイメージ`の設定**:
   `Rufus`のメインウィンドウで、以下の項目を設定します：

   - **デバイス**: 作成に使用する USBメモリを選択します。
   - **ブート選択**: ダウンロードした`ISOイメージ`を選択し、先ほどダウンロードした`Proxmox VE`の`ISOイメージ`を指定します。
   ![`ISOイメージ`設定](/images/articles/proxmox-setup/ss-rufus-isoset.png)

3. **書き込み方法の確認**:
   `ISOイメージ`がハイブリッド形式なので、以下のダイアログが表示されます:
   ![書き込み方法ダイアログ](/images/articles/proxmox-setup/ss-rufus-dialog1.png)
   `[OK]`をクリックして、次に進みます。

   - ハイブリッド形式:
     `UEFI`, `BIOS`の両方の起動に対応した`ISOイメージ`

4. **インストールメディアの書き込み**:
   設定が完了したら、`[スタート]`ボタンをクリックします。

   `Rufus`が`ISOイメージ`を USBメモリに書き込み始めます。進行状況が表示されます:
   ![`Rufus`イメージ書き込み](/images/articles/proxmox-setup/ss-rufus-writing.png)

5. **完了と終了**:
   書き込みが完了したら、`[閉じる]`をクリックし、`Rufus` を閉じます。

以上で、インストールメディアの作成は完了です。

## 2. インストールメディアの確認

### 2.1 起動確認

作成したインストールメディアが正しく動作するかを確認するため、以下の手順を実行します:

1. **インストールメディアの接続**:
   作成した USBメモリをサーバーの USBポートに差し込みます。

2. **サーバーの起動**:
   サーバーも電源を入れ、サーバーを起動します。

3. **起動画面の確認**:
   サーバーが起動すると、`Proxmox VE`インストーラーの起動画面が表示されます。
   ![起動画面](/images/articles/proxmox-setup/ss-proxmox-installer-boot.png)

4. **起動画面が表示されない場合**:
   以下の点を再確認してください：
   - サーバーの USBポート
   - インストールメディア
   - `UEFI`/'BIOS'の設定

   くわしいことは、[トラブルシューティング](#3-トラブルシューティング)を参照してください。

### 3. トラブルシューティング

インストールメディアの動作に問題が発生した場合、以下の対処方法を試してください。

- USBポートの問題:
  1. 別の USBポートに接続します。
  2. USBメモリが他のデバイスで認識されるか確認します。

- インストールメディアの問題:
  - `ISOイメージ`の整合性を確認するため、ダウンロードしたファイルのチェックサムを検証します。
    以下のコマンドを実行し、表示された値をコピーしたチェックサムが一致するか確認します。

    ```powershell
    certutil -hashfile <ISOイメージ> SHA256
    ```

- `UEFI`/`BIOS`の設定:
　 `UEFI`または`BIOS`で USBメモリが優先的に起動するよう、設定しておく必要があります。
　 設定方法は、[インストーラー起動のためのBIOS設定](dev-proxmox-setup-configbios)を参照してください。

## 重要キーワード

この記事での重要なキーワードを説明します。

- `Proxmox`:
  オープンソースの仮想化プラットフォーム

- `ISOイメージ`:
　オペレーティングシステムやツールを記録するためのファイル形式。

- `Rufus`:
  USBメモリを起動可能なデバイスにするためのツール。

- `winget`:
  `Windows`公式のパッケージ管理ツール

- ハイブリッド形式:
  `BIOS`と`UEFI`の両方をサポートする`ISOイメージ`

- 仮想化:
  ハードウェア資源を抽象化し、複数の仮想マシンを実行する技術

## おわりに

この記事では、`Proxmox VE`のインストールメディアの作成方法と動作確認手順について詳しく説明しました。これで、`Proxmox VE`の環境構築に向けた準備が整いました。
次回の記事では、実際に`Proxmox VE`をサーバーにインストールする手順について詳しく解説します。

それでは、Happy Hacking!

## 参考資料

### Webサイト

- `Proxmox`公式サイト <https://proxmox.com/>:
  `Proxmox VE`の最新情報やダウンロードリンク、公式ドキュメントが提供されています。インストールガイドやアップデート情報もここから入手可能です。

- `Rufus`公式サイト <https://rufus.ie/>:
  `Rufus`のダウンロードや使用方法、最新のアップデート情報が掲載されています。トラブルシューティングガイドも参考になります。

- [インストーラー起動のためのBIOS設定"](dev-proxmox-setup-configbios):
  PC の`UEFI`/`BIOS`を設定して、USBメモリから PC を起動するための手順を解説しています。
