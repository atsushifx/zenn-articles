---
title: "Proxmox VE のセットアップ - 自宅サーバー構築オーバービュー"
emoji: "🏨"
type: "tech"
topics:["自宅サーバー", "Linux", "Proxmox", "pve",]
published: false
---

## はじめに

`Amazon`で購入したミニPC (**TRIGKEY Speed S5 Pro**) に`Proxmox VE`をインストールし、自宅サーバーとして利用しています。
この記事では、ミニPCを用いた自宅サーバー構築の導入として、ハードウェアスペックと自宅 LAN の構成を紹介します。

上記機種は 2023年に購入しました。当時は十分な性能でしたが、2025年現在ではさらに性能が向上した機種を購入できます。

## オーバービュー

### ハードウェア

仮想化環境を構築するために、ハードウェアを増設しました。

- メモリ、内蔵ストレージ:
  仮想マシンを複数実行するために、メモリを 64GB に、ストレージを 8TB に増設。

- 外付けストレージ:
  NAS としての運用を目的に、USB 接続の外付け HDD を導入しました。ただし、転送速度の問題を解決するため、ディスクキャッシュの導入を計画中。

以上をまとめると、ハードウェアスペックは以下のようになります。

| 種別 | モデル | 詳細 | 備考 |
| --- | --- | --- | --- |
| CPU | `AMD Ryzen 7 5800H` | `8コア` / `16スレッド` | |
| グラフィックス | `AMD Radeon Graphics` | `AMD Cezanne` | 内蔵グラフィックス |
| メモリ | `DDR4` | 64GB | |
| ストレージ 1 | `NVMe SSD` | `2TB` | |
| ストレージ 2 | `SATA SSD` | `2TB` | |
| 外付けHDD | `USB 3.2` | `8TB` | 転送速度向上のため、ディスクキャッシュ導入を計画 |

### 自宅LAN

以下に、`自宅LAN`の構成図を紹介します。

![自宅LAN構成図](/images/articles/pve-overview/house-lan.svg)

`ISP`が提供するルーターを取り外せないため二重ルーター構成を採用しています。
`ISPルーター`はプロバイダーから提供され、設定変更が制限されています。そのため、DMZ を使用して 2段目のルーターに通信を転送しています。この構成により、構成図では 1段目のルーターを省略しています。

`NAS`とミニPC は有線 LAN を使用し、高速かつ安定した通信を実現しています。
その他のデバイスは Wi-Fi を利用しています。

`IPアドレス`の割り当ては、次の通りです。

| `ホスト名` | `デバイス種別` |  `IPアドレス` | `備考` |
| --- | --- | --- | --- |
| `ys` | `自PC` | `192.168.14.11～99` (動的) | `DHCP`で決定 |
| `rtgateway` | `ルーター` | `192.168.14.254` | 2段ルーターの 2段目 |
| `agartha` | `NAS` | `192.168.14.211` | |
| `pve` | `自宅サーバー` | `192.168.14.228` | `Proxmox VE`ホスト |
| `その他のサーバー` | `Proxmox VE`ゲスト | `192.168.14.100～199` | |

## 技術用語と注釈

- `Proxmox VE`:
  `Debian`ベースでコンテナーとハードウェア仮想化の両方の機能を持つ仮想化プラットフォーム。

- NAS:
  ネットワーク経由でアクセス可能なストレージデバイス。

- ディスクキャッシュ:
  高速なストレージ (例:`NVVMe SSD`) をキャッシュとして利用し、頻繁にアクセスされるデータの読み書きを効率化する技術。

- `NVMe SSD`:
  `PCI Express`インターフェイスに接続するタイプのソリッドステートドライブ。

- `SATA SSD`:
  `SATA`インターフェイスを使用し、`NVMe`より転送速度が遅いソリッドステートドライブ。

- `USB 3.2`:
  高速なデータ転送が可能な`USB`規格。

- 仮想化:
  1台の物理サーバーで複数の独立した仮想環境 (`ゲストOS`) を動作させる技術。

- `ゲストOS`:
  仮想環境内で実行される独立したオペレーティングシステム。

- `TrueNAS`:
  オープンソースで高機能なストレージソリューションを提供する`NAS`ソフトウェア。

- `Docker`:
  アプリケーションを軽量なコンテナー内で実行するソフトウェア。

## おわりに

ここまでで、自宅サーバーの概要を簡単に紹介しました。
今後の記事では、`Proxmox VE`を自宅サーバーにインストールして活用する方法を詳しく解説します。

それでは、Happy Hacking!
